# Cloud-native contract checks (Kubernetes-friendly conventions)
#
# Intended usage:
# - Point SUT_BASE_URL at your service
# - Run: python -c "from regression.api_contract import run_contract_checks; run_contract_checks('api_checks/demo_cloud_native_contract.yaml')"

checks:
  - method: GET
    path: /healthz
    expected_status: 200
    schema: schemas/healthz.schema.json
    assert:
      - type: json_path_equals
        path: ok
        expected: true

  - method: GET
    path: /readyz
    expected_status: 200
    schema: schemas/healthz.schema.json
    assert:
      - type: json_path_equals
        path: ok
        expected: true

  - method: GET
    path: /livez
    expected_status: 200
    schema: schemas/healthz.schema.json
    assert:
      - type: json_path_equals
        path: ok
        expected: true

  - method: GET
    path: /version
    expected_status: 200
    schema: schemas/version.schema.json
    assert:
      - type: json_path_exists
        path: version
